<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Dashboard</title>
    <!-- Link to the new CSS file -->
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <a href="index.html" class="back-link">&larr; Back to Lessons</a>

    <!-- Main container for the dashboard layout -->
    <div class="dashboard-container">

        <!-- Left Panel: Global statistics and the progress circle -->
        <div class="panel global-stats-panel">
            
            <div class="progress-circle-container">
                <!-- SVG element for the circular graph -->
                <svg class="progress-circle-svg" viewBox="0 0 120 120">
                    <!-- The grey background circle -->
                    <circle class="progress-circle-bg" cx="60" cy="60" r="54"></circle>
                    <!-- The colored progress arc. We will manipulate this with JS. -->
                    <circle class="progress-circle-bar" cx="60" cy="60" r="54"></circle>
                </svg>

                <!-- The text overlay in the center of the circle -->
                <div class="progress-text">
                    <h2 id="understood-count">--</h2>
                    <p>Understood</p>
                </div>
            </div>

            <!-- Text below the circle for total sentence count -->
            <div class="total-sentences-text">
                <p>Total unique sentences: <span id="total-count">--</span></p>
            </div>
            
        </div>

        <!-- Right Panel: Lesson breakdown by difficulty -->
        <div class="panel lesson-stats-panel">
            
            <!-- Box for "Easy" lessons -->
            <div class="stat-box easy">
                <h3>Easy</h3>
                <p id="easy-lessons">-- / --</p>
            </div>

            <!-- Box for "Medium" lessons -->
            <div class="stat-box medium">
                <h3>Medium</h3>
                <p id="medium-lessons">-- / --</p>
            </div>
            
            <!-- Box for "Hard" lessons -->
            <div class="stat-box hard">
                <h3>Hard</h3>
                <p id="hard-lessons">-- / --</p>
            </div>

            <div class="journey-tracker">
                <h4>Your Language Journey</h4>
                <div class="journey-bar-container">
                    <div class="journey-track-bg"></div>
                    <div id="journey-track-progress" class="journey-track-progress"></div>
                    <div class="journey-milestones">
                        <!-- We will style and position these with CSS -->
                        <div class="milestone" data-level="A1"><span>A1</span></div>
                        <div class="milestone" data-level="A2"><span>A2</span></div>
                        <div class="milestone" data-level="B1"><span>B1</span></div>
                        <div class="milestone" data-level="B2"><span>B2</span></div>
                        <div class="milestone" data-level="C1"><span>C1</span></div>
                        <div class="milestone" data-level="C2"><span>C2</span></div>
                    </div>
                </div>
                <p id="journey-progress-text" class="journey-progress-text">Calculating...</p>
            </div>


        </div>

    </div>

    <!-- The spinner will be shown while data is loading -->
    <div id="loading-spinner" class="spinner-overlay">
        <div class="spinner"></div>
    </div>


    <!-- Important: Include db.js first, then dashboard.js. Both must be modules. -->
    <script src="db.js" type="module"></script>
    <script src="dashboard.js" type="module"></script>

</body>
</html>